(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{163:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return h}));var o=n(0),a=n.n(o);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},s=Object.keys(e);for(o=0;o<s.length;o++)n=s[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)n=s[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=a.a.createContext({}),p=function(e){var t=a.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=p(e.components);return a.a.createElement(l.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},d=a.a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,s=e.originalType,c=e.parentName,l=r(e,["components","mdxType","originalType","parentName"]),u=p(n),d=o,h=u["".concat(c,".").concat(d)]||u[d]||b[d]||s;return n?a.a.createElement(h,i(i({ref:t},l),{},{components:n})):a.a.createElement(h,i({ref:t},l))}));function h(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var s=n.length,c=new Array(s);c[0]=d;var i={};for(var r in t)hasOwnProperty.call(t,r)&&(i[r]=t[r]);i.originalType=e,i.mdxType="string"==typeof e?e:o,c[1]=i;for(var l=2;l<s;l++)c[l]=n[l];return a.a.createElement.apply(null,c)}return a.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},97:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return c})),n.d(t,"metadata",(function(){return i})),n.d(t,"toc",(function(){return r})),n.d(t,"default",(function(){return p}));var o=n(3),a=n(7),s=(n(0),n(163)),c={id:"connectToSubsocial",title:"Connect To Subsocial",displayed_sidebar:"developSidebar"},i={unversionedId:"develop/how-to-guides/connectToSubsocial",id:"develop/how-to-guides/connectToSubsocial",isDocsHomePage:!1,title:"Connect To Subsocial",description:"This section covers how to connect to the Subsocial blockchain using our JS SDK.",source:"@site/docs/develop/how-to-guides/ConnectToSubsocial.md",slug:"/develop/how-to-guides/connectToSubsocial",permalink:"/docs/develop/how-to-guides/connectToSubsocial",editUrl:"https://github.com/dappforce/dappforce.github.io/docs/develop/how-to-guides/ConnectToSubsocial.md",version:"current",sidebar:"developSidebar",previous:{title:"Understanding The Testnet",permalink:"/docs/develop/getting-started/testnet"},next:{title:"Signing & Sending Transactions",permalink:"/docs/develop/how-to-guides/transactions"}},r=[{value:"Installing The SubSocial SDK",id:"installing-the-subsocial-sdk",children:[]},{value:"Initializing The APIs",id:"initializing-the-apis",children:[]},{value:"Fetching data from Subsocial",id:"fetching-data-from-subsocial",children:[]}],l={toc:r};function p(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(s.b)("wrapper",Object(o.a)({},l,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("p",null,Object(s.b)("strong",{parentName:"p"},"This section covers how to connect to the Subsocial blockchain using our JS SDK.")),Object(s.b)("p",null,"Once you have the basic knowledge and understanding about how decentralized social networks work, it's time to get started building your own Social Dapp. This guide will show you how you can do it in just a few easy steps."),Object(s.b)("h3",{id:"installing-the-subsocial-sdk"},"Installing The SubSocial SDK"),Object(s.b)("p",null,"To start building and connecting to the Subsocial chain, you need to install the typescript-based SDK first."),Object(s.b)("p",null,"Run:"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre"},"yarn add @subsocial/api\n")),Object(s.b)("blockquote",null,Object(s.b)("p",{parentName:"blockquote"},"To get more details follow ",Object(s.b)("a",{parentName:"p",href:"/docs/develop/getting-started/installation"},"installing @subsocial/api guide"))),Object(s.b)("h3",{id:"initializing-the-apis"},"Initializing The APIs"),Object(s.b)("p",null,"You need to initialize the Subsocial SDK with the following syntax:"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-typescript"},"\n/* import newFlatSubsocialApi and util functions */\nimport { SubsocialApi } from '@subsocial/api'\nimport { bnsToIds, idToBn } from '@subsocial/utils'\n\n/* \n  Store the URLs of the Substrate and IPFS nodes \n  Note: You can either run local substrateNode or use our testnet.\n*/\nconst substrateNodeUrl = 'http://127.0.0.1:9944'\nconst offchainUrl = 'http://127.0.0.1:3001'\nconst ipfsNodeUrl = 'http://127.0.0.1:8080'\n\n/* Creating flatSubsocialApi object */\nconst api = await SubsocialApi.create({\n    substrateNodeUrl, \n    ipfsNodeUrl \n  })\n\n")),Object(s.b)("blockquote",null,Object(s.b)("p",{parentName:"blockquote"},Object(s.b)("strong",{parentName:"p"},"NOTE"),": You can either run a local ",Object(s.b)("a",{parentName:"p",href:"https://github.com/dappforce/subsocial-node"},"Subsocial node")," or use our ",Object(s.b)("a",{parentName:"p",href:"/docs/develop/getting-started/testnet"},"testnet")," for running the API calls.")),Object(s.b)("h3",{id:"fetching-data-from-subsocial"},"Fetching data from Subsocial"),Object(s.b)("p",null,"Now let's see how you can fetch data from Subsocial nodes and use it in your cool Social Dapps."),Object(s.b)("h4",{id:"getting-spaces--posts-by-id"},"Getting spaces & posts by ID"),Object(s.b)("p",null,"Spaces are one of the most important parts of Subsocial. They function as a home for all posts related to a certain topic. Each space can have multiple posts in them and every space holds its own unique id.  "),Object(s.b)("p",null,"For example: The space for Subsocial's announcements has the id 1."),Object(s.b)("p",null,"Now let's try to fetch data from this space:"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-typescript"},"  // Subsocial's space id.\n  const spaceId = 1 \n\n  // Find space by id.\n  const space = await api.findSpace({id: spaceId})\n  console.log(space)\n")),Object(s.b)("p",null,"In your console you will see:"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-javascript"},'{\n  "id": "1",\n  "struct": {\n    "createdByAccount": "3osmnRNnrcScHsgkTJH1xyBF5kGjpbWHsGrqM31BJpy4vwn8",\n    "createdAtBlock": 593183,\n    "createdAtTime": 0,\n    "isUpdated": false,\n    "contentId": "bafyreib3mgbou4xln42qqcgj6qlt3cif35x4ribisxgq7unhpun525l54e",\n    "id": "1",\n    "ownerId": "3osmnRNnrcScHsgkTJH1xyBF5kGjpbWHsGrqM31BJpy4vwn8",\n    "hidden": false,\n    "canFollowerCreatePosts": false,\n    "canEveryoneCreatePosts": false\n  },\n  "content": {\n    "name": "Subsocial",\n    "tags": [\n      "subsocial",\n      "polkadot",\n      "substrate",\n      "sofi",\n      "chain",\n      "ipfs"\n    ],\n    "about": "Subsocial is an open protocol for decentralized social networks and marketplaces. It\'s built with Substrate and IPFS. [Learn more](https://subsocial.network/)",\n    "image": "Qmasp4JHhQWPkEpXLHFhMAQieAH1wtfVRNHWZ5snhfFeBe",\n    "links": [\n      "https://subsocial.network",\n      "https://twitter.com/SubsocialChain",\n      "https://medium.com/dappforce",\n      "https://t.me/Subsocial",\n      "https://github.com/dappforce",\n      "https://www.youtube.com/channel/UC1xCFynfwMrjEtFdMf8nXgQ"\n    ],\n    "handle": "subsocial",\n    "summary": "Subsocial is an open protocol for decentralized social networks and marketplaces. It\'s built with Substrate and IPFS. Learn more",\n    "isShowMore": false\n  }\n}\n')),Object(s.b)("p",null,"You can see that in response to the findSpace method, you are getting all the details about a particular space swiftly."),Object(s.b)("p",null,"Now let's try to fetch some posts and reactions from this space."),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-typescript"},"  const spaceId = 1\n  // Fetching all postIds of a particular spaceId.\n  const postIds = await api.blockchain.postIdsBySpaceId(spaceId)\n")),Object(s.b)("p",null,Object(s.b)("strong",{parentName:"p"},"Note:")," These are in ascending order of the timestamp these posts were created."),Object(s.b)("p",null,"The above code fetches all the postIds of the space. Now, we can use these Ids to get post data, reactions and much more."),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-typescript"},"  // Fetching the first post from the list of postIds.\n  // Use substrateApi to run Subsocial's pallet functions to get data about posts and content on the chain.\n  const substrateApi = await api.substrateApi\n\n  // Gets all reactions (upvotes/downvotes) by you on all post ids [we are using multi request from blockchain]\n  const tuples = postIds.map(postId => [ myAccount, postId ])\n  const reactionIds = await substrateApi.query.reactions.postReactionIdByAccount.multi(tuples)\n  const reactions = await api.blockchain.findReactions(reactionIds)\n\n")),Object(s.b)("blockquote",null,Object(s.b)("p",{parentName:"blockquote"},"Try out the code now in our ",Object(s.b)("a",{parentName:"p",href:"https://play.subsocial.network"},"Playground"),".")),Object(s.b)("blockquote",null,Object(s.b)("p",{parentName:"blockquote"},"You can learn more about these terms in the ",Object(s.b)("a",{parentName:"p",href:"/docs/basics/glossary/overview"},"Glossary"),".")))}p.isMDXComponent=!0}}]);