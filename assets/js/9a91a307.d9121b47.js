(self.webpackChunksubsocial_docs=self.webpackChunksubsocial_docs||[]).push([[583],{3905:(e,t,n)=>{"use strict";n.d(t,{Zo:()=>u,kt:()=>f});var o=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var i=o.createContext({}),c=function(e){var t=o.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},u=function(e){var t=c(e.components);return o.createElement(i.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},d=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,i=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=c(n),f=r,h=d["".concat(i,".").concat(f)]||d[f]||p[f]||a;return n?o.createElement(h,s(s({ref:t},u),{},{components:n})):o.createElement(h,s({ref:t},u))}));function f(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,s=new Array(a);s[0]=d;var l={};for(var i in t)hasOwnProperty.call(t,i)&&(l[i]=t[i]);l.originalType=e,l.mdxType="string"==typeof e?e:r,s[1]=l;for(var c=2;c<a;c++)s[c]=n[c];return o.createElement.apply(null,s)}return o.createElement.apply(null,n)}d.displayName="MDXCreateElement"},9674:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var o=n(7294),r=n(4219),a=n.n(r),s=n(1563),l=n.n(s);const i=()=>o.createElement("span",{style:{display:"flex",flex:1,justifyContent:"center",alignItems:"center",height:"550px",flexDirection:"column"}},o.createElement("img",{src:"/img/playground-logo.png",style:{height:"50px",position:"absolute"}}),o.createElement(l(),{color:"#e89b25",loading:!0,size:70,"aria-label":"Loading Spinner","data-testid":"loader"}));function c(e){let{src:t}=e;return o.createElement(a(),{skeleton:o.createElement(i,null),src:t,height:"550px",className:"iframe",scrolling:"no"})}},1622:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>d,frontMatter:()=>s,metadata:()=>i,toc:()=>u});var o=n(3117),r=(n(7294),n(3905)),a=n(9674);const s={id:"fetch-roles",title:"Fetch Roles & Permissions",description:"Roles enable on-chain moderation for spaces in Subsocial Blockchain. Let's take a deep look on how you can fetch roles data.",displayed_sidebar:"developSidebar"},l=void 0,i={unversionedId:"develop/sdk/roles/fetch-roles",id:"develop/sdk/roles/fetch-roles",title:"Fetch Roles & Permissions",description:"Roles enable on-chain moderation for spaces in Subsocial Blockchain. Let's take a deep look on how you can fetch roles data.",source:"@site/docs/develop/sdk/roles/FetchRoles.md",sourceDirName:"develop/sdk/roles",slug:"/develop/sdk/roles/fetch-roles",permalink:"/docs/develop/sdk/roles/fetch-roles",draft:!1,editUrl:"https://github.com/dappforce/subsocial-docs/tree/main/docs/develop/sdk/roles/FetchRoles.md",tags:[],version:"current",frontMatter:{id:"fetch-roles",title:"Fetch Roles & Permissions",description:"Roles enable on-chain moderation for spaces in Subsocial Blockchain. Let's take a deep look on how you can fetch roles data.",displayed_sidebar:"developSidebar"},sidebar:"developSidebar",previous:{title:"Registering Usernames",permalink:"/docs/develop/sdk/usernames/register-usernames"},next:{title:"Create & Grant Roles",permalink:"/docs/develop/sdk/roles/create-roles"}},c={},u=[{value:"Role",id:"role",level:2},{value:"Fetch Role By Id",id:"fetch-role-by-id",level:3},{value:"Fetch List of Users with Role",id:"fetch-list-of-users-with-role",level:3},{value:"Fetch Roles by Space Id",id:"fetch-roles-by-space-id",level:3},{value:"Fetch Roles by User",id:"fetch-roles-by-user",level:3}],p={toc:u};function d(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,o.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Roles and Permissions as a functionality enable on-chain moderation for spaces entity on the Subsocial Blockchain. You can leverage the roles pallet from the SDK methods to choose who can do different activities in a space."),(0,r.kt)("h2",{id:"role"},"Role"),(0,r.kt)("p",null,"A role is a configuration created for a space with set of permissions that is created on-chain and can be granted to any Space or Account. These permissions can include CreatePosts, UpdateSpace, UpdateOwnPosts, HideOwnPosts, etc."),(0,r.kt)("p",null,"This section covers how you can fetch roles data from the JS SDK via different methods."),(0,r.kt)("h3",{id:"fetch-role-by-id"},"Fetch Role By Id"),(0,r.kt)("p",null,"This following example shows how you can fetch a role by its id."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"  const roleId = '4'\n\n  const substrateApi = await api.substrateApi\n\n  const role = await substrateApi.query.roles.roleById(\n    roleId \n  )\n\n  console.log(role)\n")),(0,r.kt)("p",null,"Try Live on the Playground:"),(0,r.kt)(a.Z,{src:"https://play.subsocial.network/reading-data/roles/by-role-id?iframe=true",mdxType:"IFrameViewer"}),(0,r.kt)("h3",{id:"fetch-list-of-users-with-role"},"Fetch List of Users with Role"),(0,r.kt)("p",null,"This following example shows how you can fetch list of users by a role id."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"  const roleId = '4'\n\n  const substrateApi = await api.substrateApi\n\n  const users = await substrateApi.query.roles.usersByRoleId(\n    roleId \n  )\n  console.log(users)\n")),(0,r.kt)("p",null,"Try Live on the Playground:"),(0,r.kt)(a.Z,{src:"https://play.subsocial.network/reading-data/roles/get-users?iframe=true",mdxType:"IFrameViewer"}),(0,r.kt)("h3",{id:"fetch-roles-by-space-id"},"Fetch Roles by Space Id"),(0,r.kt)("p",null,"This following example shows how you can fetch all the roles of a space by its id."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"  const spaceId = '1005'\n\n  const substrateApi = await api.substrateApi\n\n  const roleIds = await substrateApi.query.roles.roleIdsBySpaceId(\n    spaceId \n  )\n  console.log(roleIds)\n")),(0,r.kt)("p",null,"Try Live on the Playground:"),(0,r.kt)(a.Z,{src:"https://play.subsocial.network/reading-data/roles/by-space-id?iframe=true",mdxType:"IFrameViewer"}),(0,r.kt)("h3",{id:"fetch-roles-by-user"},"Fetch Roles by User"),(0,r.kt)("p",null,"This following example shows how you can fetch all the roles of a space by its id."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"  const spaceId = '1005'\n\n  const user = {\n    Account: '5HYYeCa1Hae5YYGJ2pHskHLVrA7V5WjaSuSbntidhhD9qqgs'\n  }\n\n  const substrateApi = await api.substrateApi\n\n  const roleIds = await substrateApi.query.roles.roleIdsByUserInSpace(\n    user,\n    spaceId \n  )\n\n  console.log(roleIds)\n")),(0,r.kt)("p",null,"Try Live on the Playground:"),(0,r.kt)(a.Z,{src:"https://play.subsocial.network/reading-data/roles/by-user?iframe=true",mdxType:"IFrameViewer"}),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Next up, we will see how you can create your custom roles for spaces and grant permission to users.")))}d.isMDXComponent=!0},4219:(e,t,n)=>{var o,r,a,s,l,i=n(7294);o=e.exports,Object.defineProperty(o,"__esModule",{value:!0,configurable:!0}),r=e.exports,a="default",s=()=>u,l=e=>u=e,Object.defineProperty(r,a,{get:s,set:l,enumerable:!0,configurable:!0});var c=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};var u=e=>{const{skeleton:t,className:n}=e,o=c(e,["skeleton","className"]),[r,a]=(0,i.useState)(!0);return t||console.warn("react-loading-iframe: Rendered without skeleton, consider using an html iframe"),i.createElement(i.Fragment,null,r&&t,i.createElement("iframe",Object.assign({className:n},o,{style:{display:r?"none":"block",height:"100%",width:"100%"},onLoad:()=>{a(!1)}})))}},1563:function(e,t,n){"use strict";var o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},o.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},l=this&&this.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(7294)),c=n(6657),u=(0,n(10).createAnimation)("MoonLoader","100% {transform: rotate(360deg)}","moon");t.default=function(e){var t=e.loading,n=void 0===t||t,r=e.color,a=void 0===r?"#000000":r,s=e.speedMultiplier,p=void 0===s?1:s,d=e.cssOverride,f=void 0===d?{}:d,h=e.size,y=void 0===h?60:h,m=l(e,["loading","color","speedMultiplier","cssOverride","size"]),b=(0,c.parseLengthAndUnit)(y),v=b.value,g=b.unit,w=v/7,k=o({display:"inherit",position:"relative",width:"".concat("".concat(v+2*w).concat(g)),height:"".concat("".concat(v+2*w).concat(g)),animation:"".concat(u," ").concat(.6/p,"s 0s infinite linear"),animationFillMode:"forwards"},f),O=function(e){return{width:(0,c.cssValue)(e),height:(0,c.cssValue)(e),borderRadius:"100%"}},j=o(o({},O(w)),{backgroundColor:"".concat(a),opacity:"0.8",position:"absolute",top:"".concat("".concat(v/2-w/2).concat(g)),animation:"".concat(u," ").concat(.6/p,"s 0s infinite linear"),animationFillMode:"forwards"}),x=o(o({},O(v)),{border:"".concat(w,"px solid ").concat(a),opacity:"0.1",boxSizing:"content-box",position:"absolute"});return n?i.createElement("span",o({style:k},m),i.createElement("span",{style:j}),i.createElement("span",{style:x})):null}},10:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAnimation=void 0;t.createAnimation=function(e,t,n){var o="react-spinners-".concat(e,"-").concat(n);if("undefined"==typeof window||!window.document)return o;var r=document.createElement("style");document.head.appendChild(r);var a=r.sheet,s="\n    @keyframes ".concat(o," {\n      ").concat(t,"\n    }\n  ");return a&&a.insertRule(s,0),o}},6657:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cssValue=t.parseLengthAndUnit=void 0;var n={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function o(e){if("number"==typeof e)return{value:e,unit:"px"};var t,o=(e.match(/^[0-9.]*/)||"").toString();t=o.includes(".")?parseFloat(o):parseInt(o,10);var r=(e.match(/[^0-9]*$/)||"").toString();return n[r]?{value:t,unit:r}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}t.parseLengthAndUnit=o,t.cssValue=function(e){var t=o(e);return"".concat(t.value).concat(t.unit)}}}]);