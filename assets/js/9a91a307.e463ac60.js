(self.webpackChunksubsocial_docs=self.webpackChunksubsocial_docs||[]).push([[583],{3905:(e,t,r)=>{"use strict";r.d(t,{Zo:()=>u,kt:()=>f});var n=r(7294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var i=n.createContext({}),c=function(e){var t=n.useContext(i),r=t;return e&&(r="function"==typeof e?e(t):s(s({},t),e)),r},u=function(e){var t=c(e.components);return n.createElement(i.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,a=e.originalType,i=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=c(r),f=o,h=d["".concat(i,".").concat(f)]||d[f]||p[f]||a;return r?n.createElement(h,s(s({ref:t},u),{},{components:r})):n.createElement(h,s({ref:t},u))}));function f(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=r.length,s=new Array(a);s[0]=d;var l={};for(var i in t)hasOwnProperty.call(t,i)&&(l[i]=t[i]);l.originalType=e,l.mdxType="string"==typeof e?e:o,s[1]=l;for(var c=2;c<a;c++)s[c]=r[c];return n.createElement.apply(null,s)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},9674:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(7294),o=r(4219),a=r.n(o),s=r(1563),l=r.n(s);const i=()=>n.createElement("span",{style:{display:"flex",flex:1,justifyContent:"center",alignItems:"center",height:"550px",flexDirection:"column"}},n.createElement("img",{src:"/img/playground-logo.png",style:{height:"50px",position:"absolute"}}),n.createElement(l(),{color:"#e89b25",loading:!0,size:70,"aria-label":"Loading Spinner","data-testid":"loader"}));function c(e){let{src:t}=e;return n.createElement(a(),{skeleton:n.createElement(i,null),src:t,height:"550px",className:"iframe",scrolling:"no"})}},1622:(e,t,r)=>{"use strict";r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>d,frontMatter:()=>s,metadata:()=>i,toc:()=>u});var n=r(3117),o=(r(7294),r(3905)),a=r(9674);const s={id:"fetch-roles",title:"Fetch Roles & Permissions",description:"Roles enable on-chain moderation for spaces on the Subsocial Blockchain. Let's take a deeper look at how you can fetch roles data.",displayed_sidebar:"developSidebar"},l=void 0,i={unversionedId:"develop/sdk/roles/fetch-roles",id:"develop/sdk/roles/fetch-roles",title:"Fetch Roles & Permissions",description:"Roles enable on-chain moderation for spaces on the Subsocial Blockchain. Let's take a deeper look at how you can fetch roles data.",source:"@site/docs/develop/sdk/roles/FetchRoles.md",sourceDirName:"develop/sdk/roles",slug:"/develop/sdk/roles/fetch-roles",permalink:"/docs/develop/sdk/roles/fetch-roles",draft:!1,editUrl:"https://github.com/dappforce/subsocial-docs/tree/main/docs/develop/sdk/roles/FetchRoles.md",tags:[],version:"current",frontMatter:{id:"fetch-roles",title:"Fetch Roles & Permissions",description:"Roles enable on-chain moderation for spaces on the Subsocial Blockchain. Let's take a deeper look at how you can fetch roles data.",displayed_sidebar:"developSidebar"},sidebar:"developSidebar",previous:{title:"Registering Usernames",permalink:"/docs/develop/sdk/usernames/register-usernames"},next:{title:"Create & Grant Roles",permalink:"/docs/develop/sdk/roles/create-roles"}},c={},u=[{value:"Role",id:"role",level:2},{value:"Fetch a role by id",id:"fetch-a-role-by-id",level:3},{value:"Fetch a list of users with a particular role",id:"fetch-a-list-of-users-with-a-particular-role",level:3},{value:"Fetch roles by space id",id:"fetch-roles-by-space-id",level:3},{value:"Fetch roles by user",id:"fetch-roles-by-user",level:3}],p={toc:u};function d(e){let{components:t,...r}=e;return(0,o.kt)("wrapper",(0,n.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Roles and Permissions, as a functionality, enable on-chain moderation for spaces entities on the Subsocial Blockchain. You can leverage the roles pallet from the SDK methods to choose who can do different activities in a space."),(0,o.kt)("h2",{id:"role"},"Role"),(0,o.kt)("p",null,"A role is a configuration created for a space, with a set of permissions, that is created on-chain and can be granted to any Space or Account. These permissions can include CreatePosts, UpdateSpace, UpdateOwnPosts, HideOwnPosts, etc."),(0,o.kt)("p",null,"This section covers how you can fetch roles data from the JS SDK via different methods."),(0,o.kt)("h3",{id:"fetch-a-role-by-id"},"Fetch a role by id"),(0,o.kt)("p",null,"This following example shows how you can fetch a role by its id."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"  const roleId = '4'\n\n  const substrateApi = await api.substrateApi\n\n  const role = await substrateApi.query.roles.roleById(\n    roleId \n  )\n\n  console.log(role)\n")),(0,o.kt)("p",null,"Try it live on the Playground:"),(0,o.kt)(a.Z,{src:"https://play.subsocial.network/reading-data/roles/by-role-id?iframe=true",mdxType:"IFrameViewer"}),(0,o.kt)("h3",{id:"fetch-a-list-of-users-with-a-particular-role"},"Fetch a list of users with a particular role"),(0,o.kt)("p",null,"This following example shows how you can fetch a list of users by a role id."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"  const roleId = '4'\n\n  const substrateApi = await api.substrateApi\n\n  const users = await substrateApi.query.roles.usersByRoleId(\n    roleId \n  )\n  console.log(users)\n")),(0,o.kt)("p",null,"Try it live on the Playground:"),(0,o.kt)(a.Z,{src:"https://play.subsocial.network/reading-data/roles/get-users?iframe=true",mdxType:"IFrameViewer"}),(0,o.kt)("h3",{id:"fetch-roles-by-space-id"},"Fetch roles by space id"),(0,o.kt)("p",null,"This following example shows how you can fetch all the roles of a space by the id of that space."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"  const spaceId = '1005'\n\n  const substrateApi = await api.substrateApi\n\n  const roleIds = await substrateApi.query.roles.roleIdsBySpaceId(\n    spaceId \n  )\n  console.log(roleIds)\n")),(0,o.kt)("p",null,"Try it live on the Playground:"),(0,o.kt)(a.Z,{src:"https://play.subsocial.network/reading-data/roles/by-space-id?iframe=true",mdxType:"IFrameViewer"}),(0,o.kt)("h3",{id:"fetch-roles-by-user"},"Fetch roles by user"),(0,o.kt)("p",null,"This following example shows how you can fetch all the roles of a user based on their account address."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"  const spaceId = '1005'\n\n  const user = {\n    Account: '5HYYeCa1Hae5YYGJ2pHskHLVrA7V5WjaSuSbntidhhD9qqgs'\n  }\n\n  const substrateApi = await api.substrateApi\n\n  const roleIds = await substrateApi.query.roles.roleIdsByUserInSpace(\n    user,\n    spaceId \n  )\n\n  console.log(roleIds)\n")),(0,o.kt)("p",null,"Try it live on the Playground:"),(0,o.kt)(a.Z,{src:"https://play.subsocial.network/reading-data/roles/by-user?iframe=true",mdxType:"IFrameViewer"}),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Next up, we will see how you can create custom roles for spaces and grant permission to users.")))}d.isMDXComponent=!0},4219:(e,t,r)=>{var n,o,a,s,l,i=r(7294);n=e.exports,Object.defineProperty(n,"__esModule",{value:!0,configurable:!0}),o=e.exports,a="default",s=()=>u,l=e=>u=e,Object.defineProperty(o,a,{get:s,set:l,enumerable:!0,configurable:!0});var c=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r};var u=e=>{const{skeleton:t,className:r}=e,n=c(e,["skeleton","className"]),[o,a]=(0,i.useState)(!0);return t||console.warn("react-loading-iframe: Rendered without skeleton, consider using an html iframe"),i.createElement(i.Fragment,null,o&&t,i.createElement("iframe",Object.assign({className:r},n,{style:{display:o?"none":"block",height:"100%",width:"100%"},onLoad:()=>{a(!1)}})))}},1563:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return a(t,e),t},l=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r};Object.defineProperty(t,"__esModule",{value:!0});var i=s(r(7294)),c=r(6657),u=(0,r(10).createAnimation)("MoonLoader","100% {transform: rotate(360deg)}","moon");t.default=function(e){var t=e.loading,r=void 0===t||t,o=e.color,a=void 0===o?"#000000":o,s=e.speedMultiplier,p=void 0===s?1:s,d=e.cssOverride,f=void 0===d?{}:d,h=e.size,m=void 0===h?60:h,y=l(e,["loading","color","speedMultiplier","cssOverride","size"]),b=(0,c.parseLengthAndUnit)(m),v=b.value,g=b.unit,w=v/7,k=n({display:"inherit",position:"relative",width:"".concat("".concat(v+2*w).concat(g)),height:"".concat("".concat(v+2*w).concat(g)),animation:"".concat(u," ").concat(.6/p,"s 0s infinite linear"),animationFillMode:"forwards"},f),O=function(e){return{width:(0,c.cssValue)(e),height:(0,c.cssValue)(e),borderRadius:"100%"}},j=n(n({},O(w)),{backgroundColor:"".concat(a),opacity:"0.8",position:"absolute",top:"".concat("".concat(v/2-w/2).concat(g)),animation:"".concat(u," ").concat(.6/p,"s 0s infinite linear"),animationFillMode:"forwards"}),x=n(n({},O(v)),{border:"".concat(w,"px solid ").concat(a),opacity:"0.1",boxSizing:"content-box",position:"absolute"});return r?i.createElement("span",n({style:k},y),i.createElement("span",{style:j}),i.createElement("span",{style:x})):null}},10:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAnimation=void 0;t.createAnimation=function(e,t,r){var n="react-spinners-".concat(e,"-").concat(r);if("undefined"==typeof window||!window.document)return n;var o=document.createElement("style");document.head.appendChild(o);var a=o.sheet,s="\n    @keyframes ".concat(n," {\n      ").concat(t,"\n    }\n  ");return a&&a.insertRule(s,0),n}},6657:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cssValue=t.parseLengthAndUnit=void 0;var r={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function n(e){if("number"==typeof e)return{value:e,unit:"px"};var t,n=(e.match(/^[0-9.]*/)||"").toString();t=n.includes(".")?parseFloat(n):parseInt(n,10);var o=(e.match(/[^0-9]*$/)||"").toString();return r[o]?{value:t,unit:o}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}t.parseLengthAndUnit=n,t.cssValue=function(e){var t=n(e);return"".concat(t.value).concat(t.unit)}}}]);