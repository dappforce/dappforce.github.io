(self.webpackChunksubsocial_docs=self.webpackChunksubsocial_docs||[]).push([[7514],{3905:(e,t,r)=>{"use strict";r.d(t,{Zo:()=>p,kt:()=>m});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var c=n.createContext({}),l=function(e){var t=n.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},p=function(e){var t=l(e.components);return n.createElement(c.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},f=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,c=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=l(r),f=a,m=u["".concat(c,".").concat(f)]||u[f]||d[f]||o;return r?n.createElement(m,i(i({ref:t},p),{},{components:r})):n.createElement(m,i({ref:t},p))}));function m(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,i=new Array(o);i[0]=f;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s[u]="string"==typeof e?e:a,i[1]=s;for(var l=2;l<o;l++)i[l]=r[l];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}f.displayName="MDXCreateElement"},9674:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(7294),a=r(4219),o=r.n(a),i=r(1563),s=r.n(i);const c=()=>n.createElement("span",{style:{display:"flex",flex:1,justifyContent:"center",alignItems:"center",height:"550px",flexDirection:"column"}},n.createElement("img",{src:"/img/playground-logo.png",style:{height:"50px",position:"absolute"}}),n.createElement(s(),{color:"#e89b25",loading:!0,size:70,"aria-label":"Loading Spinner","data-testid":"loader"}));function l(e){let{src:t}=e;return n.createElement(o(),{skeleton:n.createElement(c,null),src:t,height:"550px",className:"iframe",scrolling:"no"})}},791:(e,t,r)=>{"use strict";r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>f,frontMatter:()=>i,metadata:()=>c,toc:()=>p});var n=r(7462),a=(r(7294),r(3905)),o=r(9674);const i={id:"create-profiles",title:"Create And Update Profiles",displayed_sidebar:"developSidebar"},s=void 0,c={unversionedId:"develop/sdk/profiles/create-profiles",id:"develop/sdk/profiles/create-profiles",title:"Create And Update Profiles",description:"Creating and Updating Profiles With The Subsocial JS SDK",source:"@site/docs/develop/sdk/profiles/CreateProfiles.md",sourceDirName:"develop/sdk/profiles",slug:"/develop/sdk/profiles/create-profiles",permalink:"/docs/develop/sdk/profiles/create-profiles",draft:!1,editUrl:"https://github.com/dappforce/subsocial-docs/tree/main/docs/develop/sdk/profiles/CreateProfiles.md",tags:[],version:"current",frontMatter:{id:"create-profiles",title:"Create And Update Profiles",displayed_sidebar:"developSidebar"},sidebar:"developSidebar",previous:{title:"Fetch Profiles",permalink:"/docs/develop/sdk/profiles/fetch-profiles"},next:{title:"Fetch Spaces",permalink:"/docs/develop/sdk/spaces/fetch-spaces"}},l={},p=[{value:"Create a profile",id:"create-a-profile",level:2},{value:"Update a profile",id:"update-a-profile",level:2}],u={toc:p},d="wrapper";function f(e){let{components:t,...r}=e;return(0,a.kt)(d,(0,n.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("head",null,(0,a.kt)("title",null,"Creating and Updating Profiles With The Subsocial JS SDK")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"This section covers how to create and update profiles on the Subsocial blockchain.")),(0,a.kt)("h2",{id:"create-a-profile"},"Create a profile"),(0,a.kt)("p",null,"To create a profile it is first necessary to create a space and then set it as the profile."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"substrateApi.tx.spaces.createSpace(content, permissionsOpt)\nsubstrateApi.tx.profiles.setProfile(spaceId)\n")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\ud83c\udd78 ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/dappforce/subsocial-js/blob/master/packages/api/src/substrate/wrappers/content.ts#L29"},"IpfsContent"),' is function that return substrate like implementation for enum { IPFS: "CID of your content"}.  ')),(0,a.kt)("p",null,"Example:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"import { IpfsContent } from \"@subsocial/api/substrate/wrappers\"\n\n...\nconst cid = await api.ipfs.saveContent({\n  about: 'Subsocial official account.',\n  avatar: 'Qmasp4JHhQWPkEpXLHFhMAQieAH1wtfVRNHWZ5snhfFeBe', // ipfsImageCid = await api.subsocial.ipfs.saveFile(file)\n  name: 'Subsocial',\n})\n\nconst spaceTransaction = substrateApi.tx.spaces.createSpace(\n  IpfsContent(cid),\n  null // Permissions config (optional)\n)\n\n// Send the spaceTransaction and wait for it to get the newly created spaceId.\n// Now set this space as your profile.\n\nconst profileTx = substrateApi.tx.profiles.setProfile(spaceId);\n...\n")),(0,a.kt)(o.Z,{src:"https://play.subsocial.network/writing-data/profile?iframe=true",mdxType:"IFrameViewer"}),(0,a.kt)("br",null),(0,a.kt)("h2",{id:"update-a-profile"},"Update a profile"),(0,a.kt)("p",null,"Updating a profile is the same as updating the profile space. You can just update the profile space and it will work out of the box."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\ud83c\udd83 ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/dappforce/subsocial-js/blob/master/packages/api/src/substrate/wrappers/space-update.ts#L5"},"SpaceUpdateType"),": { content: ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/dappforce/subsocial-js/blob/master/packages/api/src/types/ipfs.ts#L16"},(0,a.kt)("em",{parentName:"a"},"SpaceContent"))," }")))}f.isMDXComponent=!0},4219:(e,t,r)=>{var n,a,o,i,s,c=r(7294);n=e.exports,Object.defineProperty(n,"__esModule",{value:!0,configurable:!0}),a=e.exports,o="default",i=()=>p,s=e=>p=e,Object.defineProperty(a,o,{get:i,set:s,enumerable:!0,configurable:!0});var l=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};var p=e=>{const{skeleton:t,className:r}=e,n=l(e,["skeleton","className"]),[a,o]=(0,c.useState)(!0);return t||console.warn("react-loading-iframe: Rendered without skeleton, consider using an html iframe"),c.createElement(c.Fragment,null,a&&t,c.createElement("iframe",Object.assign({className:r},n,{style:{display:a?"none":"block",height:"100%",width:"100%"},onLoad:()=>{o(!1)}})))}},1563:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},n.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&a(t,e,r);return o(t,e),t},s=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};Object.defineProperty(t,"__esModule",{value:!0});var c=i(r(7294)),l=r(7740),p=(0,r(10).createAnimation)("MoonLoader","100% {transform: rotate(360deg)}","moon");t.default=function(e){var t=e.loading,r=void 0===t||t,a=e.color,o=void 0===a?"#000000":a,i=e.speedMultiplier,u=void 0===i?1:i,d=e.cssOverride,f=void 0===d?{}:d,m=e.size,b=void 0===m?60:m,h=s(e,["loading","color","speedMultiplier","cssOverride","size"]),v=(0,l.parseLengthAndUnit)(b),y=v.value,g=v.unit,O=y/7,k=n({display:"inherit",position:"relative",width:"".concat("".concat(y+2*O).concat(g)),height:"".concat("".concat(y+2*O).concat(g)),animation:"".concat(p," ").concat(.6/u,"s 0s infinite linear"),animationFillMode:"forwards"},f),w=function(e){return{width:(0,l.cssValue)(e),height:(0,l.cssValue)(e),borderRadius:"100%"}},j=n(n({},w(O)),{backgroundColor:"".concat(o),opacity:"0.8",position:"absolute",top:"".concat("".concat(y/2-O/2).concat(g)),animation:"".concat(p," ").concat(.6/u,"s 0s infinite linear"),animationFillMode:"forwards"}),P=n(n({},w(y)),{border:"".concat(O,"px solid ").concat(o),opacity:"0.1",boxSizing:"content-box",position:"absolute"});return r?c.createElement("span",n({style:k},h),c.createElement("span",{style:j}),c.createElement("span",{style:P})):null}},10:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAnimation=void 0;t.createAnimation=function(e,t,r){var n="react-spinners-".concat(e,"-").concat(r);if("undefined"==typeof window||!window.document)return n;var a=document.createElement("style");document.head.appendChild(a);var o=a.sheet,i="\n    @keyframes ".concat(n," {\n      ").concat(t,"\n    }\n  ");return o&&o.insertRule(i,0),n}},7740:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cssValue=t.parseLengthAndUnit=void 0;var r={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function n(e){if("number"==typeof e)return{value:e,unit:"px"};var t,n=(e.match(/^[0-9.]*/)||"").toString();t=n.includes(".")?parseFloat(n):parseInt(n,10);var a=(e.match(/[^0-9]*$/)||"").toString();return r[a]?{value:t,unit:a}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}t.parseLengthAndUnit=n,t.cssValue=function(e){var t=n(e);return"".concat(t.value).concat(t.unit)}}}]);